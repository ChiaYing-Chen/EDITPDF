# PDF 編輯器 App 功能設計說明書

## 1. 產品概述
本文件旨在描述現有 PDF 編輯器 Web App 的功能與設計，作為移植至 Android App 的參考依據。該應用程式提供 PDF 文件管理、編輯、合併、分割及壓縮等功能，採用現代化的暗色系介面風格。

## 2. 介面風格 (Interface Style)

### 2.1 整體視覺
- **色調**: 採用深色主題 (Dark Mode) 為主，背景使用深藍灰色 (Slate-900/950)。
- **強調色**: 使用靛藍色 (Indigo) 與藍色 (Blue) 漸層作為按鈕、圖示及選取狀態的強調色。
- **質感**: 運用毛玻璃效果 (Backdrop Blur)、柔和陰影 (Soft Shadows) 及圓角設計 (Rounded Corners)，營造現代且高級的質感。
- **字體**: 清晰易讀的無襯線字體 (Sans-serif)，搭配等寬字體 (Monospace) 顯示數據。

### 2.2 佈局結構
- **首頁**: 
    - 頂部為標題與主要操作按鈕 (合併、新專案)。
    - 中央為專案列表，以卡片式呈現，包含預覽圖與資訊。
    - 背景帶有動態模糊光暈效果。
- **編輯頁**:
    - **頂部工具列**: 包含檔案選單、編輯工具 (繪圖、文字、印章)、復原/重做。
    - **側邊欄 (桌機版) / 底部欄 (手機版)**: 顯示頁面縮圖，支援拖曳排序與多選。
    - **中央畫布**: 顯示當前編輯頁面，支援縮放與平移。
    - **浮動控制**: 縮放控制鈕位於右下角。

## 3. 功能列表 (Feature List)

### 3.1 專案管理
- **建立專案**: 支援匯入 PDF 文件或圖片檔 (JPG, PNG 等) 建立新專案。
- **專案列表**: 顯示專案名稱、最後編輯時間、頁數及檔案大小。
- **刪除專案**: 可刪除不再需要的專案。
- **自動儲存**: 編輯過程自動儲存至本地資料庫 (IndexedDB/Dexie)。

### 3.2 頁面管理
- **頁面預覽**: 顯示所有頁面的縮圖。
- **頁面排序**: 透過拖曳 (Drag & Drop) 調整頁面順序。
- **頁面旋轉**: 支援單頁或多頁旋轉 (90度)。
- **新增頁面**: 可隨時插入新的 PDF 頁面或圖片。
- **刪除頁面**: 選取並刪除特定頁面。
- **匯出頁面**: 將選取的頁面匯出為獨立的 PDF。

### 3.3 PDF 編輯工具
- **繪圖工具**:
    - **畫筆/直線**: 自由繪製或繪製直線。
    - **箭頭**: 繪製帶有箭頭的線條。
    - **形狀**: 矩形 (Rect)、圓形 (Circle)。
    - **樣式調整**: 支援線條粗細 (Stroke Width) 與顏色 (Color) 調整。
- **文字工具**:
    - 插入文字方塊。
    - 調整字體大小 (Font Size)、字型 (Font Family)。
    - 設定文字顏色與背景顏色 (透明/填滿)。
- **圖片工具**:
    - **圖片疊加**: 在 PDF 頁面上插入圖片 (Image Placeholder)。
- **印章工具 (Stamp)**:
    - **內建印章**: 快速插入預設印章。
    - **自訂印章**: 設定印章文字、顏色、背景色。
    - **印章管理**: 新增、刪除、修改自訂印章。
- **物件操作**:
    - 選取、移動、縮放已繪製的物件。
    - 刪除選取物件。

### 3.4 進階功能
- **PDF 合併**: 選取多個 PDF 檔案合併為一個新專案。
- **PDF 壓縮**: 提供三種壓縮等級 (高品質、標準、強力壓縮) 以縮減檔案大小。
- **復原/重做 (Undo/Redo)**: 支援編輯動作的復原與重做。
- **縮放控制**: 支援畫布的放大、縮小與重置視圖 (Reset Zoom)。

## 4. 操作指南 (Operation Guide)

### 4.1 建立與管理專案
1. **新建專案**: 在首頁點擊「新專案」按鈕，選擇 PDF 或圖片檔案。
2. **合併 PDF**: 點擊「合併 PDF」按鈕，選擇多個檔案，在排序視窗調整順序後確認。
3. **開啟專案**: 點擊專案卡片即可進入編輯模式。
4. **刪除專案**: 在專案卡片右上角點擊垃圾桶圖示。

### 4.2 編輯頁面操作
1. **切換頁面**: 點擊側邊欄 (或底部) 的縮圖切換當前編輯頁面。
2. **調整順序**: 長按並拖曳縮圖即可改變頁面順序。
3. **多選頁面**: 點擊「選取模式」圖示 (眼睛/勾選框)，點選多個縮圖進行批次旋轉或刪除。

### 4.3 使用編輯工具
1. **選擇工具**: 在頂部工具列選擇所需工具 (如：畫筆、文字、印章)。手機版部分工具收納於「繪圖工具」選單中。
2. **調整樣式**: 選取工具後，可設定顏色、粗細或字體大小。
3. **繪製/輸入**:
    - **繪圖**: 在畫布上拖曳滑鼠或手指進行繪製。
    - **文字**: 點擊畫布位置，輸入文字，點擊外部完成。
    - **印章**: 點擊印章圖示，選擇印章後點擊畫布放置。
4. **編輯物件**: 切換至「移動 (手形)」工具，點擊物件可進行移動、縮放或刪除。

### 4.4 匯出與分享
1. **儲存並下載**: 點擊左上角「檔案」選單，選擇「儲存並下載」將編輯後的 PDF 存至裝置。
2. **壓縮檔案**: 在「檔案」選單選擇「壓縮檔案」，選擇壓縮等級後下載。

## 5. Android 移植建議
- **觸控優化**: 保留兩指縮放 (Pinch-to-zoom) 與平移 (Pan) 的手勢操作。
- **底部導航**: 手機版介面已將縮圖列置於底部，移植時可維持此佈局，或採用標準 Android Bottom Sheet。
- **檔案存取**: 需整合 Android 的 `Storage Access Framework` 或 `MediaStore` 以讀取與儲存檔案。
- **效能優化**: PDF 渲染與圖片處理在行動裝置上需注意記憶體管理，建議使用原生 PDF 渲染庫或優化的 Webview。
